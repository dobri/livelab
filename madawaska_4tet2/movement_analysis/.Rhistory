library(lme4)
library(texreg)
library(lmerTest)
library(ggplot2)
library(wesanderson)
# Point the working directory to where you've got the R files and the pre-processed data.
setwd('~/logos/mcmc/livelab/madawaska_4tet2/movement_analysis/')
# This does the stats and draws and saves figures.
source('stats/gc/plot_and_lmer.R')
source('stats/gc/multiplot.R')
x<-read.csv('data/excel/X_clean_processed_gc.csv')
xp<-read.csv('data/excel/Xpcs_processed_gc.csv')
xd<-read.csv('data/excel/X_detrended_processed_gc.csv')
v<-read.csv('data/excel/V_processed_gc.csv')
X<-x
X$gc_x<-x$gc
X$gc_pca<-xp$gc
X$gc_xd<-xd$gc
X$gc_v<-v$gc
cor(as.matrix(cbind(X$gc_x,X$gc_pca,X$gc_xd,X$gc_v)))
X$Condition<-X$condition-1
X$Trial<-X$trial-1
X$pair<-factor(X$pair)
summary(X)
dv=9
print(names(X)[dv])
X$dv<-X[,dv]
g_ind<-list("vector",2)
g_ave<-list("vector",2)
for (p in unique(X$piece)){
print(paste('Piece',p))
pp<-plot_and_lmer(X[X$piece==p,],names(X)[dv])
g_ind[[p]]<-pp[1]
g_ave[[p]]<-pp[2]
}
print(best_model)
source('stats/gc/plot_and_lmer.R')
plot_and_lmer(X[X$piece==p,],names(X)[dv])
print(sprintf('The top model is #%i.',best_model))
?sprintf
source('stats/gc/plot_and_lmer.R')
plot_and_lmer(X[X$piece==p,],names(X)[dv])
for (dv in seq(9,12)){
print(names(X)[dv])
X$dv<-X[,dv]
g_ind<-list("vector",2)
g_ave<-list("vector",2)
for (p in unique(X$piece)){
print(paste('Piece',p))
pp<-plot_and_lmer(X[X$piece==p,],names(X)[dv])
g_ind[[p]]<-pp[1]
g_ave[[p]]<-pp[2]
}
multiplot(plotlist=g_ind,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
multiplot(plotlist=g_ave,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
if (FALSE) {
filename=paste("regs_ind_and_model_dv_",names(X)[dv],"_",Sys.Date(),'.png',sep='')
png(filename=filename,width=8,height=6,units="in",res=300)
multiplot(plotlist=g_ind,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
dev.off()
filename=paste("regs_means_dv_",names(X)[dv],"_",Sys.Date(),'.png',sep='')
png(filename=filename,width=8,height=6,units="in",res=300)
multiplot(plotlist=g_ave,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
dev.off()
}
}
getwd()
for (dv in seq(9,12)){
print(names(X)[dv])
X$dv<-X[,dv]
g_ind<-list("vector",2)
g_ave<-list("vector",2)
for (p in unique(X$piece)){
print(paste('Piece',p))
pp<-plot_and_lmer(X[X$piece==p,],names(X)[dv])
g_ind[[p]]<-pp[1]
g_ave[[p]]<-pp[2]
}
multiplot(plotlist=g_ind,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
multiplot(plotlist=g_ave,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
if (TRUE) {
filename=paste("regs_ind_and_model_dv_",names(X)[dv],"_",Sys.Date(),'.png',sep='')
png(filename=filename,width=8,height=6,units="in",res=300)
multiplot(plotlist=g_ind,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
dev.off()
filename=paste("regs_means_dv_",names(X)[dv],"_",Sys.Date(),'.png',sep='')
png(filename=filename,width=8,height=6,units="in",res=300)
multiplot(plotlist=g_ave,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
dev.off()
}
}
getwd()
source('stats/gc/plot_and_lmer.R')
plot_and_lmer(X[X$piece==p,],names(X)[dv])
plot_and_lmer(X,names(X)[dv])
source('stats/gc/m_lmers.R')
?print
(f,f2,m_lmers,b) <- function(X)
f,f2,m_lmers,b <- function(X)
M <- function(X)
M <- function(X)
{}
M <- function(X)
{}
M <- m_lmers(X)
m<-M[[1]]
m
m
fitted1<-M[[1]]
fitted2<-M[[2]]
m<-M[[3]]
b<-M[[4]]
b
m
X$fit<-M[[1]]
X$fit_fixef<-M[[2]]
plot_and_lmer(X[X$piece==p,],names(X)[dv])
source('stats/gc/m_lmers.R')
source('stats/gc/plot_and_lmer.R')
source('stats/gc/m_lmers.R')
source('stats/gc/plot_and_lmer.R')
plot_and_lmer(X[X$piece==p,],names(X)[dv])
for (dv in seq(9,12)){
print(names(X)[dv])
X$dv<-X[,dv]
# Find the best model. Models in M[[3]]. The best one is indicated in M[[4]].
M <- m_lmers(X)
X$fit<-M[[1]]
X$fit_fixef<-M[[2]]
g_ind<-list("vector",2)
g_ave<-list("vector",2)
for (p in unique(X$piece)){
print(paste('Piece',p))
pp<-plot_and_lmer(X[X$piece==p,],names(X)[dv])
g_ind[[p]]<-pp[1]
g_ave[[p]]<-pp[2]
}
multiplot(plotlist=g_ind,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
multiplot(plotlist=g_ave,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
if (TRUE) {
filename=paste("regs_ind_and_model_dv_",names(X)[dv],"_",Sys.Date(),'.png',sep='')
png(filename=filename,width=8,height=6,units="in",res=300)
multiplot(plotlist=g_ind,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
dev.off()
filename=paste("regs_means_dv_",names(X)[dv],"_",Sys.Date(),'.png',sep='')
png(filename=filename,width=8,height=6,units="in",res=300)
multiplot(plotlist=g_ave,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
dev.off()
}
}
source('stats/gc/m_lmers.R')
source('stats/gc/plot_and_lmer.R')
source('stats/gc/m_lmers.R')
source('stats/gc/plot_and_lmer.R')
for (dv in seq(9,12)){
print(names(X)[dv])
X$dv<-X[,dv]
# Find the best model. Models in M[[3]]. The best one is indicated in M[[4]].
M <- m_lmers(X)
X$fit<-M[[1]]
X$fit_fixef<-M[[2]]
g_ind<-list("vector",2)
g_ave<-list("vector",2)
for (p in unique(X$piece)){
print(paste('Piece',p))
pp<-plot_and_lmer(X[X$piece==p,],names(X)[dv])
g_ind[[p]]<-pp[1]
g_ave[[p]]<-pp[2]
}
multiplot(plotlist=g_ind,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
multiplot(plotlist=g_ave,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
if (TRUE) {
filename=paste("regs_ind_and_model_dv_",names(X)[dv],"_",Sys.Date(),'.png',sep='')
png(filename=filename,width=8,height=6,units="in",res=300)
multiplot(plotlist=g_ind,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
dev.off()
filename=paste("regs_means_dv_",names(X)[dv],"_",Sys.Date(),'.png',sep='')
png(filename=filename,width=8,height=6,units="in",res=300)
multiplot(plotlist=g_ave,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
dev.off()
}
}
source('stats/gc/m_lmers.R')
source('stats/gc/plot_and_lmer.R')
for (dv in seq(9,12)){
print(names(X)[dv])
X$dv<-X[,dv]
# Find the best model. Models in M[[3]]. The best one is indicated in M[[4]].
M <- m_lmers(X)
X$fit<-M[[1]]
X$fit_fixef<-M[[2]]
g_ind<-list("vector",2)
g_ave<-list("vector",2)
for (p in unique(X$piece)){
print(paste('Piece',p))
pp<-plot_and_lmer(X[X$piece==p,],names(X)[dv])
g_ind[[p]]<-pp[1]
g_ave[[p]]<-pp[2]
}
multiplot(plotlist=g_ind,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
multiplot(plotlist=g_ave,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
if (TRUE) {
filename=paste("regs_ind_and_model_dv_",names(X)[dv],"_",Sys.Date(),'.png',sep='')
png(filename=filename,width=8,height=6,units="in",res=300)
multiplot(plotlist=g_ind,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
dev.off()
filename=paste("regs_means_dv_",names(X)[dv],"_",Sys.Date(),'.png',sep='')
png(filename=filename,width=8,height=6,units="in",res=300)
multiplot(plotlist=g_ave,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
dev.off()
}
}
source('stats/gc/plot_and_lmer.R')
source('stats/gc/m_lmers.R')
for (dv in seq(9,12)){
print(names(X)[dv])
X$dv<-X[,dv]
# Find the best model. Models in M[[3]]. The best one is indicated in M[[4]].
M <- m_lmers(X)
X$fit<-M[[1]]
X$fit_fixef<-M[[2]]
g_ind<-list("vector",2)
g_ave<-list("vector",2)
for (p in unique(X$piece)){
print(paste('Piece',p))
pp<-plot_and_lmer(X[X$piece==p,],names(X)[dv])
g_ind[[p]]<-pp[1]
g_ave[[p]]<-pp[2]
}
multiplot(plotlist=g_ind,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
multiplot(plotlist=g_ave,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
if (TRUE) {
filename=paste("regs_ind_and_model_dv_",names(X)[dv],"_",Sys.Date(),'.png',sep='')
png(filename=filename,width=8,height=6,units="in",res=300)
multiplot(plotlist=g_ind,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
dev.off()
filename=paste("regs_means_dv_",names(X)[dv],"_",Sys.Date(),'.png',sep='')
png(filename=filename,width=8,height=6,units="in",res=300)
multiplot(plotlist=g_ave,layout=matrix(c(1,2),nrow=1,byrow=TRUE))
dev.off()
}
}
